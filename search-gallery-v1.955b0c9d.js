function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return a[e]=o,t.call(o.exports,o,o.exports),o.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},t.parcelRequired7c6=o);var n=o("7Y9D8"),s=o("fZKcF"),l=o("iJYdK"),c=(n=o("7Y9D8"),o("2shzp").default);class i{fetchImages(){const e=new URLSearchParams({key:i.API_KEY,q:this.searchQuery,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40,page:this.page}),t=`${i.BASE_URL}?${e}`;return""===this.searchQuery.trim()?(n.Notify.warning("Please, enter your search query!"),Promise.reject("Invalid query!")):c.get(t,{validateStatus:e=>404!=e}).catch((e=>console.log(e)))}incrementPage(){this.page+=1}resetPage(){this.page=1}get query(){return this.searchQuery}set query(e){this.query=e}constructor(){this.searchQuery="",this.page=1}}e(l)(i,"API_KEY","34194701-2813288863e2fdf221136bb42"),e(l)(i,"BASE_URL","https://pixabay.com/api/");var u=o("m2GY9");const h={searchForm:document.querySelector("#search-form"),loadMoreBtn:document.querySelector(".load-more")},g=new(e(s))(".gallery a",{captionsData:"alt",captionDelay:250,scrollZoom:!1}),y=new i;function d(){y.fetchImages().then((({data:e})=>{y.incrementPage(),console.log(`Current page: ${y.page-1}\nNext page: ${y.page}`),(0,u.showImgGallery)(e.hits),(0,u.checkElementsQuantity)(e.totalHits),(0,u.adjustPageScroll)(),g.refresh()})).catch((e=>console.log(e)))}h.loadMoreBtn.style.display="none",h.searchForm.addEventListener("submit",(function(e){e.preventDefault(),h.loadMoreBtn.style.display="none",y.searchQuery=e.currentTarget.elements.searchQuery.value,y.resetPage(),y.fetchImages().then((({data:e})=>{0!==e.total?(n.Notify.success(`Hooray! We found ${e.totalHits} images.`),y.incrementPage(),console.log(`NEW SEARCH...\nSearch query: ${y.searchQuery}\nQuantity of found elements:  ${e.total}\nCurrent page: ${y.page-1}\nNext page: ${y.page}`),(0,u.clearImgGallery)(),(0,u.showImgGallery)(e.hits),g.refresh(),h.loadMoreBtn.style.display="block",h.loadMoreBtn.addEventListener("click",d),(0,u.checkElementsQuantity)(e.totalHits)):n.Notify.failure("Sorry, there are no images matching your search query. Please try again.")})).catch((e=>console.log(e)))}));
//# sourceMappingURL=search-gallery-v1.955b0c9d.js.map
